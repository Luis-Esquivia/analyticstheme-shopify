{{ 'product.css' | asset_url | stylesheet_tag }}

{% assign current_variant = product.selected_or_first_available_variant %}
{% assign featured_image = current_variant.featured_image | default: product.featured_image %}

<div class="container">
  <div class="product-detail__container">
    <div class="product-detail__slider-container">
      <div class="swiper swiper--view-img js-swiper-view-img ">
        <div class="swiper-wrapper">
          {% for image in product.images %}
            {% unless image == product.featured_image %}
              <div class="swiper-slide">
                <img
                  class="swiper-slide-img"
                  src="{{ image.src | img_url: 'compact' }}"
                  width="80px"
                  alt="">
              </div>
            {% endunless %}
          {% endfor %}
        </div>
        <div class="swiper-pagination"></div>
      </div>
      <div class="swiper swiper--preview-img js-swiper-preview-img">
        <div class="swiper-wrapper">
          {% for image in product.images %}
            {% unless image == product.featured_image %}
              <div class="swiper-slide">
                <img
                  class="swiper-slide-img"
                  src="{{ image.src | img_url: 'compact' }}"
                  width="80px"
                  alt="">
              </div>
            {% endunless %}
          {% endfor %}
        </div>
        <div class="swiper-pagination"></div>
      </div>
    </div>
    <div class="purchase-info">
      <div class="purchase-info__items-container">
        <div class="purchase-info__items-code">
          <p>Genaire</p>
          <svg
            width="2"
            height="12"
            viewBox="0 0 2 12"
            fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path
              d="M1 1L1 11"
              stroke="#D8D8D8"
              stroke-linecap="round" />
          </svg>
          <p>578SFF12CR - 18</p>
        </div>
        <div class="purchase-info__items-icons">
          <a
            href=""
            aria-label="Ir a twitter"
            class="purchase-info__items-icon">
            <svg
              width="15"
              height="12"
              viewBox="0 0 15 12"
              fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M14.5619 1.4205C14.0259 1.66144 13.4503 1.8245 12.8459 1.89751C13.4627 1.52271 13.9371 0.929286 14.1595 0.221471C13.5835 0.568686 12.9439 0.820984 12.2631 0.956869C11.7182 0.367902 10.941 0 10.0822 0C8.43217 0 7.09414 1.35681 7.09414 3.02961C7.09414 3.26771 7.12055 3.49811 7.17135 3.71998C4.6885 3.59383 2.48765 2.38791 1.01362 0.554083C0.756415 1.0023 0.609212 1.52271 0.609212 2.07761C0.609212 3.12858 1.13642 4.05665 1.93764 4.59938C1.44883 4.58396 0.98762 4.44686 0.585212 4.22012V4.25825C0.585212 5.7262 1.61523 6.95078 2.98126 7.22904C2.73126 7.298 2.46645 7.33572 2.19404 7.33572C2.00244 7.33572 1.81404 7.31625 1.63243 7.28096C2.01204 8.48445 3.11566 9.36019 4.42249 9.38534C3.40087 10.1978 2.11244 10.6821 0.712015 10.6821C0.47121 10.6821 0.234005 10.6671 0 10.6395C1.32203 11.4986 2.89206 12 4.58009 12C10.075 12 13.0799 7.3848 13.0799 3.38088C13.0799 3.24986 13.0767 3.11925 13.0719 2.98824C13.6543 2.56193 14.1607 2.02812 14.5619 1.4205Z"
                fill="#A6A6A6" />
            </svg>
          </a>
          <a href="Ir a facebook" class="purchase-info__items-icon">
            <svg
              width="7"
              height="12"
              viewBox="0 0 7 12"
              fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M0 3.96851H1.30752V2.76289C1.30752 2.23114 1.32183 1.41141 1.72885 0.903646C2.15805 0.365626 2.7464 0 3.7589 0C5.40859 0 6.10305 0.2232 6.10305 0.2232L5.77631 2.06103C5.77631 2.06103 5.23147 1.91147 4.72283 1.91147C4.21448 1.91147 3.7589 2.08444 3.7589 2.5668V3.96851H5.84424L5.69856 5.76381H3.7589V12H1.30752V5.76381H0V3.96851Z"
                fill="#A6A6A6" />
            </svg>
          </a>
        </div>
      </div>

      <div class="purchase-info__name-container">
        <p class="purchase-info__name">{{ product.title }}</p>
        <a href="">
          <svg
            width="24"
            height="21"
            viewBox="0 0 24 21"
            fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M20.84 2.60999C19.8085 1.57799 18.4091 0.998169 16.95 0.998169C15.4909 0.998169 14.0915 1.57799 13.06 2.60999L12 3.66999L10.94 2.60999C8.79161 0.461607 5.30838 0.461607 3.16 2.60999C1.01161 4.75838 1.01161 8.24161 3.16 10.39L4.22 11.45L12 19.23L19.78 11.45L20.84 10.39C21.872 9.35847 22.4518 7.95913 22.4518 6.49999C22.4518 5.04086 21.872 3.64152 20.84 2.60999Z"
              stroke="#A6A6A6"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round" />
          </svg>
        </a>
      </div>
      <div class="purchase-info__qualification-container">
        <div class="purchase-info__qualification-link-container">
          {% render 'star-qualification' %}
          <a href="" class="purchase-info__qualification-link">Escribe Una Opinión</a>
        </div>

        <p class="purchase-info__qualification-offer">OFERTA</p>
      </div>
      <div class="purchase-info__price-container">
        <p class="purchase-info__price">{{ current_variant.price | money }}</p>
        {% if current_variant.compare_at_price %}
          <p class="purchase-info__price-before"> {{ current_variant.compare_at_price | money  }} </p>
        {% endif %}
      </div>
      <a href="" class="purchase-info__know-more">Conocer más
        <svg
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <path
            d="M4 12L12 4"
            stroke="#EF2A82"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round" />
          <path
            d="M6 4H12V10"
            stroke="#EF2A82"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
      </a>
      {% if product.custom.tienda_disponible and product.custom.tienda_disponible %}
        <h1>hola</h1>
      {% endif %}
      <div class="delivery-type">
        <p class="delivery-tipe__title">Método de entrega</p>
        <div class="delivery-tipe__card-container">
          <p class="delivery-tipe__card">
            <svg
              width="16"
              height="12"
              viewBox="0 0 16 12"
              fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path d="M15.6978 6.1525L14.5212 4.03438C14.3133 3.66034 14.0092 3.34867 13.6404 3.13165C13.2715 2.91462 12.8514 2.80012 12.4234 2.8H10.4V2.4C10.3993 1.76368 10.1463 1.15362 9.69633 0.703675C9.24638 0.253731 8.63632 0.000661796 8 0H2.4C1.76368 0.000661796 1.15362 0.253731 0.703675 0.703675C0.253731 1.15362 0.000661796 1.76368 0 2.4L0 8C0.000753111 8.57312 0.206255 9.12711 0.579448 9.56207C0.952642 9.99703 1.46897 10.2843 2.03531 10.3722C2.12169 10.8274 2.36342 11.2384 2.71921 11.5352C3.075 11.8319 3.52278 11.996 3.98607 11.9992C4.44936 12.0025 4.89941 11.8449 5.25937 11.5532C5.61933 11.2615 5.86686 10.8539 5.95969 10.4H10.8403C10.9383 10.8788 11.2082 11.3051 11.599 11.5985C11.9898 11.8919 12.4746 12.032 12.9617 11.9924C13.4488 11.9529 13.9045 11.7363 14.2428 11.3837C14.5812 11.0311 14.7787 10.5668 14.7981 10.0784C15.1633 9.86801 15.4666 9.56514 15.6776 9.20029C15.8886 8.83543 15.9998 8.42146 16 8V7.31812C15.9997 6.91025 15.8957 6.50915 15.6978 6.1525ZM4 11.2C3.76266 11.2 3.53065 11.1296 3.33332 10.9978C3.13598 10.8659 2.98217 10.6785 2.89134 10.4592C2.80052 10.2399 2.77676 9.99867 2.82306 9.76589C2.86936 9.53311 2.98365 9.31929 3.15147 9.15147C3.31929 8.98365 3.53311 8.86936 3.76589 8.82306C3.99867 8.77676 4.23995 8.80052 4.45922 8.89135C4.67849 8.98217 4.86591 9.13598 4.99776 9.33332C5.12962 9.53065 5.2 9.76266 5.2 10C5.19967 10.3182 5.07313 10.6232 4.84816 10.8482C4.62319 11.0731 4.31816 11.1997 4 11.2ZM9.6 9.6H5.95969C5.86813 9.15176 5.62567 8.74846 5.27274 8.45736C4.91981 8.16626 4.47775 8.00496 4.02028 8.00035C3.56281 7.99574 3.11759 8.14812 2.75888 8.43205C2.40016 8.71599 2.14962 9.11432 2.04906 9.56063C1.69483 9.48053 1.37831 9.28248 1.15138 8.99893C0.92444 8.71539 0.800547 8.36317 0.8 8V2.4C0.800496 1.97581 0.969226 1.56913 1.26918 1.26918C1.56913 0.969226 1.97581 0.800496 2.4 0.8H8C8.42419 0.800496 8.83087 0.969226 9.13082 1.26918C9.43077 1.56913 9.5995 1.97581 9.6 2.4V9.6ZM12.8 11.2C12.5627 11.2 12.3307 11.1296 12.1333 10.9978C11.936 10.8659 11.7822 10.6785 11.6913 10.4592C11.6005 10.2399 11.5768 9.99867 11.6231 9.76589C11.6694 9.53311 11.7836 9.31929 11.9515 9.15147C12.1193 8.98365 12.3331 8.86936 12.5659 8.82306C12.7987 8.77676 13.0399 8.80052 13.2592 8.89135C13.4785 8.98217 13.6659 9.13598 13.7978 9.33332C13.9296 9.53065 14 9.76266 14 10C13.9997 10.3182 13.8731 10.6232 13.6482 10.8482C13.4232 11.0731 13.1182 11.1997 12.8 11.2ZM15.2 8C15.2 8.23102 15.1499 8.4593 15.0531 8.66907C14.9563 8.87884 14.8152 9.0651 14.6394 9.215C14.472 8.82284 14.1837 8.49443 13.8165 8.27769C13.4493 8.06096 13.0225 7.96725 12.5982 8.01024C12.174 8.05323 11.7747 8.23067 11.4584 8.51666C11.1422 8.80266 10.9256 9.18223 10.8403 9.6H10.4V3.6H12.4231C12.7085 3.6001 12.9886 3.67646 13.2345 3.82118C13.4805 3.9659 13.6832 4.17372 13.8219 4.42312L14.9984 6.54125C15.1304 6.77906 15.1997 7.04648 15.2 7.31844V8Z" fill="#363535" />
            </svg>Envío a Domicilio</p>
          <p class="delivery-tipe__card">
            <svg
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path d="M9.4 12.4H12.2C12.4652 12.4 12.7196 12.2946 12.9071 12.1071C13.0946 11.9196 13.2 11.6652 13.2 11.4V9.4C13.2 9.13478 13.0946 8.88043 12.9071 8.69289C12.7196 8.50536 12.4652 8.4 12.2 8.4H9.4C9.13478 8.4 8.88043 8.50536 8.69289 8.69289C8.50536 8.88043 8.4 9.13478 8.4 9.4V11.4C8.4 11.6652 8.50536 11.9196 8.69289 12.1071C8.88043 12.2946 9.13478 12.4 9.4 12.4ZM9.2 9.4C9.20008 9.34698 9.22118 9.29616 9.25867 9.25867C9.29616 9.22118 9.34698 9.20008 9.4 9.2H12.2C12.253 9.20008 12.3038 9.22118 12.3413 9.25867C12.3788 9.29616 12.3999 9.34698 12.4 9.4V11.4C12.3999 11.453 12.3788 11.5038 12.3413 11.5413C12.3038 11.5788 12.253 11.5999 12.2 11.6H9.4C9.34698 11.5999 9.29616 11.5788 9.25867 11.5413C9.22118 11.5038 9.20008 11.453 9.2 11.4V9.4ZM6.4 12C6.4 12.1061 6.35786 12.2078 6.28284 12.2828C6.20783 12.3579 6.10609 12.4 6 12.4H5.6C5.49391 12.4 5.39217 12.3579 5.31716 12.2828C5.24214 12.2078 5.2 12.1061 5.2 12C5.2 11.8939 5.24214 11.7922 5.31716 11.7172C5.39217 11.6421 5.49391 11.6 5.6 11.6H6C6.10609 11.6 6.20783 11.6421 6.28284 11.7172C6.35786 11.7922 6.4 11.8939 6.4 12ZM15.6 15.2H14.8V7.38531C15.0432 7.24498 15.2452 7.04307 15.3857 6.79989C15.5261 6.5567 15.6 6.28082 15.6 6V1C15.6 0.734784 15.4946 0.48043 15.3071 0.292893C15.1196 0.105357 14.8652 0 14.6 0L1.4 0C1.13478 0 0.88043 0.105357 0.692893 0.292893C0.505357 0.48043 0.4 0.734784 0.4 1V6C0.399963 6.28082 0.47388 6.5567 0.614316 6.79989C0.754752 7.04307 0.956754 7.24498 1.2 7.38531V15.2H0.4C0.293913 15.2 0.192172 15.2421 0.117157 15.3172C0.0421427 15.3922 0 15.4939 0 15.6C0 15.7061 0.0421427 15.8078 0.117157 15.8828C0.192172 15.9579 0.293913 16 0.4 16H15.6C15.7061 16 15.8078 15.9579 15.8828 15.8828C15.9579 15.8078 16 15.7061 16 15.6C16 15.4939 15.9579 15.3922 15.8828 15.3172C15.8078 15.2421 15.7061 15.2 15.6 15.2ZM6.8 15.2H3.6V9.4C3.60008 9.34698 3.62118 9.29616 3.65867 9.25867C3.69616 9.22118 3.74698 9.20008 3.8 9.2H6.6C6.65302 9.20008 6.70384 9.22118 6.74133 9.25867C6.77882 9.29616 6.79992 9.34698 6.8 9.4V15.2ZM6.6 8.4H3.8C3.53478 8.4 3.28043 8.50536 3.09289 8.69289C2.90536 8.88043 2.8 9.13478 2.8 9.4V15.2H2V7.6C2.2271 7.60034 2.45166 7.55214 2.65861 7.45863C2.86557 7.36513 3.05016 7.22847 3.2 7.05781C3.34998 7.22833 3.53458 7.36493 3.7415 7.4585C3.94842 7.55207 4.17291 7.60047 4.4 7.60047C4.62709 7.60047 4.85158 7.55207 5.0585 7.4585C5.26542 7.36493 5.45002 7.22833 5.6 7.05781C5.74998 7.22833 5.93458 7.36493 6.1415 7.4585C6.34842 7.55207 6.57291 7.60047 6.8 7.60047C7.02709 7.60047 7.25158 7.55207 7.4585 7.4585C7.66542 7.36493 7.85002 7.22833 8 7.05781C8.14998 7.22833 8.33458 7.36493 8.5415 7.4585C8.74842 7.55207 8.97291 7.60047 9.2 7.60047C9.42709 7.60047 9.65158 7.55207 9.8585 7.4585C10.0654 7.36493 10.25 7.22833 10.4 7.05781C10.55 7.22833 10.7346 7.36493 10.9415 7.4585C11.1484 7.55207 11.3729 7.60047 11.6 7.60047C11.8271 7.60047 12.0516 7.55207 12.2585 7.4585C12.4654 7.36493 12.65 7.22833 12.8 7.05781C12.9498 7.22847 13.1344 7.36513 13.3414 7.45863C13.5483 7.55214 13.7729 7.60034 14 7.6V15.2H7.6V9.4C7.6 9.13478 7.49464 8.88043 7.30711 8.69289C7.11957 8.50536 6.86522 8.4 6.6 8.4ZM3.6 2.4H5.2V5.2H3.6V2.4ZM14 6.8C13.7879 6.79975 13.5846 6.71539 13.4346 6.56541C13.2846 6.41544 13.2002 6.2121 13.2 6H14.8C14.7998 6.2121 14.7154 6.41544 14.5654 6.56541C14.4154 6.71539 14.2121 6.79975 14 6.8ZM6 6H7.6C7.6 6.21217 7.51571 6.41566 7.36569 6.56569C7.21566 6.71571 7.01217 6.8 6.8 6.8C6.58783 6.8 6.38434 6.71571 6.23431 6.56569C6.08429 6.41566 6 6.21217 6 6ZM8.4 6H10C10 6.21217 9.91571 6.41566 9.76569 6.56569C9.61566 6.71571 9.41217 6.8 9.2 6.8C8.98783 6.8 8.78434 6.71571 8.63431 6.56569C8.48429 6.41566 8.4 6.21217 8.4 6ZM10.8 6H12.4C12.4 6.21217 12.3157 6.41566 12.1657 6.56569C12.0157 6.71571 11.8122 6.8 11.6 6.8C11.3878 6.8 11.1843 6.71571 11.0343 6.56569C10.8843 6.41566 10.8 6.21217 10.8 6ZM12.4 5.2H10.8V2.4H12.4V5.2ZM10 5.2H8.4V2.4H10V5.2ZM7.6 5.2H6V2.4H7.6V5.2ZM5.2 6C5.2 6.21217 5.11571 6.41566 4.96569 6.56569C4.81566 6.71571 4.61217 6.8 4.4 6.8C4.18783 6.8 3.98434 6.71571 3.83431 6.56569C3.68429 6.41566 3.6 6.21217 3.6 6H5.2ZM2 6.8C1.7879 6.79975 1.58456 6.71539 1.43459 6.56541C1.28461 6.41544 1.20025 6.2121 1.2 6H2.8C2.79975 6.2121 2.71539 6.41544 2.56541 6.56541C2.41544 6.71539 2.2121 6.79975 2 6.8ZM14.8 5.2H13.2V2.4H14.8V5.2ZM1.2 1C1.20008 0.946982 1.22118 0.896159 1.25867 0.85867C1.29616 0.821181 1.34698 0.800083 1.4 0.8H14.6C14.653 0.800083 14.7038 0.821181 14.7413 0.85867C14.7788 0.896159 14.7999 0.946982 14.8 1V1.6H1.2V1ZM1.2 2.4H2.8V5.2H1.2V2.4Z" fill="#363535" />
            </svg>Retiro en Tienda</p>
        </div>
      </div>
      <div class="add-cart">
        <form
          action="/cart/add"
          method="post"
          enctype="multipart/form-data"
          id="AddToCartForm"
          class="cart__product-quantity-number">
          <div class="cart__product-quantity__container">
            <select
              name="id"
              id="productSelect"
              class="add-card__select">
              {% for variant in product.variants %}
                {% if variant.available %}
                  <option value="{{ variant.id }}">
                    {{ variant.title }} - {{ variant.price | money_with_currency }}
                  </option>
                {% else %}
                  <option disabled="disabled">
                    {{ variant.title }} - sold out
                  </option>
                {% endif %}
              {% endfor %}
            </select>
            <a href="#" class="cart__quantity-btn cart__quantity-btn--decrease js-cart-quantity-decrease">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="26"
                height="30"
                viewBox="0 0 26 30"
                fill="none">
                <path
                  d="M5.9574 15H20.4539"
                  stroke="#D8D8D8"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </a>
            <input
              class="cart__product-number js-cart-product-number"
              type="number"
              id="Quantity"
              name="quantity"
              value="1"
              min="1">
            <a href="#" class="cart__quantity-btn cart__quantity-btn--increase js-cart-quantity-increase">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="26"
                height="30"
                viewBox="0 0 26 30"
                fill="none">
                <path
                  d="M12.7163 6.6V23.4"
                  stroke="#D8D8D8"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round" />
                <path
                  d="M5.46802 15H19.9645"
                  stroke="#D8D8D8"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </a>
          </div>

          <button
            type="submit"
            name="add"
            id="AddToCart"
            class="add-cart__btn">Agregar al carrito
            <svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M6.31551 16.3333C7.05189 16.3333 7.64884 15.7364 7.64884 15C7.64884 14.2636 7.05189 13.6667 6.31551 13.6667C5.57913 13.6667 4.98218 14.2636 4.98218 15C4.98218 15.7364 5.57913 16.3333 6.31551 16.3333Z"
                stroke="white"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round" />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M14.3155 16.3333C15.0519 16.3333 15.6488 15.7364 15.6488 15C15.6488 14.2636 15.0519 13.6667 14.3155 13.6667C13.5791 13.6667 12.9822 14.2636 12.9822 15C12.9822 15.7364 13.5791 16.3333 14.3155 16.3333Z"
                stroke="white"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round" />
              <path
                d="M4.76214 5H16.3155L15.1955 10.5933C15.0696 11.2268 14.5079 11.679 13.8621 11.6667H6.81547C6.14179 11.6724 5.56969 11.1747 5.48214 10.5067L4.4688 2.82667C4.38189 2.16373 3.81741 1.66768 3.1488 1.66667H1.6488"
                stroke="white"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round" />
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
  const swiperPreview = new Swiper('.js-swiper-preview-img', {
    loop: true,
    spaceBetween: 10,
    slidesPerView: 4,
    freeMode: true,
    watchSlidesProgress: true,
  });

  const swiperView = new Swiper('.js-swiper-view-img', {
    loop: true,
    spaceBetween: 10,
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
    thumbs: {
      swiper: swiperPreview,
    }
  });

  document.addEventListener('DOMContentLoaded', function () {
    const decreaseButtons = document.querySelectorAll('.js-cart-quantity-decrease');
    const increaseButtons = document.querySelectorAll('.js-cart-quantity-increase');
    const quantityInputs = document.querySelectorAll('.js-cart-product-number');

    decreaseButtons.forEach(button => {
      button.addEventListener('click', function (event) {
        event.preventDefault();
        const quantityInput = button.nextElementSibling; 
        let currentQuantity = parseInt(quantityInput.value);

        if (currentQuantity > 0) {
          currentQuantity--;
          quantityInput.value = currentQuantity;
        }
      });
    });

    increaseButtons.forEach(button => {
      button.addEventListener('click', function (event) {
        event.preventDefault();
        const quantityInput = button.previousElementSibling;
        let currentQuantity = parseInt(quantityInput.value);
        currentQuantity++;
        quantityInput.value = currentQuantity;
      });
    });
  });

</script>